<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="icon" type="image/png" href="logo.png">
    <!-- For different devices -->
    <link rel="apple-touch-icon" href="logo.png">

    <!-- PWA Configuration -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4CAF50">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <title>EET Agri IOT</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>

<body>
    <!-- ===== HEADER SECTION ===== -->
    <h1>üå± EET Agri IOT</h1>
    <hr>
    <h2>ESP32 Sensor Module</h2>

    <!-- ===== FIREBASE CONNECTION SECTION ===== -->
    <div class="table-container" id="firebaseInputSection">
        <h3>üå± Connect to Device</h3>
        <div class="table-wrapper">
            <table style="max-width: 500px;">
                <tr>
                    <td colspan="3" style="text-align: center; padding: 20px;">
                        <input type="text" 
                               id="deviceIdInput" 
                               placeholder="Type device ID (esp32-A, esp32-B)"
                               style="padding: 10px; width: 100%; max-width: 300px; border: 2px solid #4CAF50; border-radius: 5px; font-size: 16px; margin-bottom: 10px;">
                        <br>
                        <button onclick="loadFirebaseDevice()" 
                                style="padding: 12px 30px; background: #4CAF50; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
                            üîç Load Device Data
                        </button>
                        <p style="color: #666; font-size: 14px; margin-top: 10px;">
                            Try: <code>esp32-A</code> or <code>esp32-B</code>
                        </p>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <!-- ===== NPK NUTRIENTS SECTION ===== -->
    <div class="table-container">
        <h3>NPK Nutrients</h3>
        <div class="table-wrapper">
            <table>
                <tr>
                    <th width="35%">Parameter</th>
                    <th width="50%">Value</th>
                    <th width="15%">Unit</th>
                    
                </tr>
                <tr>
                    <td>Nitrogen (N)</td>
                    <td id="nitrogen-value"></td>
                    <td>mg/kg</td>
                </tr>
                <tr>
                    <td>Phosphorus (P)</td>
                    <td id="phosphorus-value"></td>
                    <td>mg/kg</td>
                </tr>
                <tr>
                    <td>Potassium (K)</td>
                    <td id="potassium-value"></td>
                    <td>mg/kg</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- ===== ADDITIONAL SENSORS SECTION ===== -->
    <div class="table-container">
        <h3>Additional Sensors</h3>
        <div class="table-wrapper">
            <table>
                <tr>
                    <th width="35%">Parameter</th>
                    <th width="50%">Value</th>
                    <th width="15%">Unit</th>
                    </tr>
                <tr>
                    <td>Electrical Conductivity</td>
                    <td id="conductivity-value"></td>
                    <td>uS/m</td>
                </tr>
                <tr>
                    <td>pH</td>
                    <td id="ph-value"></td>
                    <td>pH</td>

                </tr>
                <tr>
                    <td>Moisture</td>
                    <td id="moisture-value"></td>
                    <td>%</td>
                </tr>
                <tr>
                    <td>Temperature</td>
                    <td id="temperature-value"></td>
                    <td>¬∞C</td>
                </tr>
                <tr>
                    <td>Weight</td>
                    <td id="weight-value"></td>
                    <td>kg</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- ===== TANK SECTION ===== -->
    <div class="table-container">
        <h3>Tank Details</h3>
        <div class="table-wrapper">
            <table>
                <tr>
                    <th width="35%">Parameter</th>
                    <th width="50%">Value</th>
                    <th width="15%">Unit</th>
                    
                </tr>
                <tr>
                    <td>Level</td>
                    <td id="tank-level-value"></td>
                    <td>cm</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- ===== DEVICE INFO HEADER ===== -->
    <div id="deviceInfoHeader" style="display: none; text-align: center; margin: 20px 0; padding: 15px; background: #e8f5e9; border-radius: 10px;">
        <h3 id="deviceNameDisplay">Device Name</h3>
        <p style="color: #666; font-size: 14px;">
            Device ID: <span id="deviceIdDisplay"></span> ‚Ä¢ 
            <button onclick="changeFirebaseDevice()" style="background: none; border: 1px solid #4CAF50; color: #2E7D32; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px;">
                Change Device
            </button>
        </p>
    </div>

    <!-- ===== EXTERNAL JAVASCRIPT FILES ===== -->
    <script src="firebase-config.js"></script>
    <script src="app-logic.js"></script>
</body>
</html>